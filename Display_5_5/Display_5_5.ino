//The table for the letters
int letters[][5][5] = {{
  {1,1,1,1,1},//A
  {1,0,0,0,1},
  {1,1,1,1,1},
  {1,0,0,0,1},
  {1,0,0,0,1}
}, {
  {1,1,1,1,0},//B
  {1,0,0,1,0},
  {1,1,1,1,0},
  {1,0,0,0,1},
  {1,1,1,1,1}
},{
  {1,1,1,1,1},//C
  {1,0,0,0,0},
  {1,0,0,0,0},
  {1,0,0,0,0},
  {1,1,1,1,1}
},{
  {1,1,1,1,0},//D
  {1,0,0,0,1},
  {1,0,0,0,1},
  {1,0,0,0,1},
  {1,1,1,1,0}
},{
  {1,1,1,1,1},//E
  {1,0,0,0,0},
  {1,1,1,0,0},
  {1,0,0,0,0},
  {1,1,1,1,1}
},{
  {1,1,1,1,1},//F
  {1,0,0,0,0},
  {1,1,1,0,0},
  {1,0,0,0,0},
  {1,0,0,0,0}
},{
  {1,1,1,1,1},//G
  {1,0,0,0,0},
  {1,0,0,1,1},
  {1,0,0,0,1},
  {1,1,1,1,1}
},{
  {1,0,0,0,1},//H
  {1,0,0,0,1},
  {1,1,1,1,1},
  {1,0,0,0,1},
  {1,0,0,0,1}
},{
  {0,1,1,1,0},//I
  {0,0,1,0,0},
  {0,0,1,0,0},
  {0,0,1,0,0},
  {0,1,1,1,0}
},{
  {0,0,1,1,1},//J
  {0,0,0,1,0},
  {0,0,0,1,0},
  {1,0,0,1,0},
  {0,1,1,1,0}
},{
  {1,0,0,0,1},//K
  {1,0,0,1,0},
  {1,1,1,0,0},
  {1,0,0,1,0},
  {1,0,0,0,1}
},{
  {1,0,0,0,0},//L
  {1,0,0,0,0},
  {1,0,0,0,0},
  {1,0,0,0,0},
  {1,1,1,1,1}
},{
  {1,1,0,1,1},//M
  {1,0,1,0,1},
  {1,0,1,0,1},
  {1,0,0,0,1},
  {1,0,0,0,1}
},{
  {1,0,0,0,1},//N
  {1,1,0,0,1},
  {1,0,1,0,1},
  {1,0,0,1,1},
  {1,0,0,0,1}
},{
  {1,1,1,1,1},//O
  {1,0,0,0,1},
  {1,0,0,0,1},
  {1,0,0,0,1},
  {1,1,1,1,1}
},{
  {1,1,1,1,1},//P
  {1,0,0,0,1},
  {1,1,1,1,1},
  {1,0,0,0,0},
  {1,0,0,0,0}
},{
  {1,1,1,1,1},//Q
  {1,0,0,0,1},
  {1,0,0,0,1},
  {1,0,0,1,0},
  {1,1,1,0,1}
},{
  {1,1,1,1,0},//R
  {1,0,0,1,0},
  {1,1,1,0,0},
  {1,0,0,1,0},
  {1,0,0,0,1}
},{
  {1,1,1,1,1},//S
  {1,0,0,0,0},
  {1,1,1,1,1},
  {0,0,0,0,1},
  {1,1,1,1,1}
},{
  {1,1,1,1,1},//T
  {0,0,1,0,0},
  {0,0,1,0,0},
  {0,0,1,0,0},
  {0,0,1,0,0}
},{
  {1,0,0,0,1},//U
  {1,0,0,0,1},
  {1,0,0,0,1},
  {1,0,0,0,1},
  {1,1,1,1,1}
},{
  {1,0,0,0,1},//V
  {1,0,0,0,1},
  {1,0,0,0,1},
  {0,1,0,1,0},
  {0,0,1,0,0}
},{
  {1,0,0,0,1},//W
  {1,0,0,0,1},
  {1,0,0,0,1},
  {1,0,1,0,1},
  {0,1,0,1,0}
},{
  {1,0,0,0,1},//X
  {1,0,0,0,1},
  {0,1,1,1,0},
  {1,0,0,0,1},
  {1,0,0,0,1}
},{
  {1,0,0,0,1},//Y
  {0,1,0,1,0},
  {0,0,1,0,0},
  {0,0,1,0,0},
  {0,0,1,0,0}
},{
  {1,1,1,1,1},//Z
  {0,0,0,1,0},
  {0,0,1,0,0},
  {0,1,0,0,0},
  {1,1,1,1,1}
}};

// pins for the rows
int row1 = 11;
int row2 = 10;
int row3 = 9;
int row4 = 8;
int row5 = 7;
int rows[] = {row1,row2,row3,row4,row5};
//pins for the columns
int col1 = 6;
int col2 = 5;
int col3 = 4;
int col4 = 3;
int col5 = 2;
int cols[] = {col1,col2,col3,col4,col5};
//pin for the potentiometer
int pot = A0;

void setup() {
  // initialize the rows and cols pins as outputs.
  for (int i = 2; i<=11; i++) {
    pinMode(i,OUTPUT);
  }
  // initialize the pot pin as an input
  pinMode(pot,INPUT);
}

// the loop routine runs over and over again forever:
void loop() {
  //reads the value of the potentiometer
  int valpot = analogRead(pot);
  //scales the value of the potentiometer in 0-25 bounds and displays this letter
  writeLetter(letters[(valpot*26/1024)]);
}

void writeLetter(int letter[5][5]) {
  // for each rows, turn it on for 1 ms
  for (int i = 0; i <=4; i++) {
    digitalWrite(rows[i],HIGH);
    //turn each column that has a lit LED on that row ON
    for (int j = 0; j <=4; j++) {
      if (letter[i][j] == 1) {
        digitalWrite(cols[j],HIGH);
      }
    }
    delay(1);
    //turn each column that has a lit LED on that row OFF
    for (int j = 0; j <=4; j++) {
      if (letter[i][j] == 1) {
        digitalWrite(cols[j],LOW);
      }
    }
    digitalWrite(rows[i],LOW);
  } 
}
